/**
 * Loft Images JavaScript Module v1.3.23
 * http://www.intheloftstudios.com/packages/js/loft_images
 *
 * Front end Retina and SVG Handling for img tags or background images.
 *
 * Copyright 2015-2017, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Thu May 18 10:07:39 PDT 2017
 */
var LoftImages=function($,t){function s(t){this.version="1.3.23","string"==typeof t&&(t={classBase:t}),this.settings={},$.extend(this.settings,this.options,t),this.settings.autoInit&&this.init(),this.settings.autoProcessDom&&this.processDom()}function e(t){t.pending--,t.processed++,t.pending<1&&(delete t.pending,$.event.trigger("loftImagesDomReady",t))}return s.prototype.options={dataSvgAttribute:"no-svg-src",dataRetinaAttribute:"no-retina-src",retinaSuffix:"@2x",retinaMediaQuery:"(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)",context:t,classRootSelector:"html",autoInit:!0,autoProcessDom:!0,onceClass:"loft-images",retinaClassOnRoot:"retina",noRetinaClassOnRoot:"no-retina",svgClassOnRoot:"svgasimg",noSvgClassOnRoot:"no-svgasimg",onInit:null,onBeforeProcessDom:null,onAfterProcessDom:null},s.prototype.init=function(){return this.svg=this.isSvg(),this.retina=this.isRetina(),this.settings.onInit&&this.settings.onInit.call(this),this},s.prototype.processDom=function(){this.settings.onBeforeProcessDom&&this.settings.onBeforeProcessDom.call(this);var s=this,n=s.settings,i=n.noRetinaClassOnRoot;s.retina&&(i=n.retinaClassOnRoot),s.svg?i+=" "+n.svgClassOnRoot:i+=" "+n.noSvgClassOnRoot,$(n.classRootSelector).removeClass([n.retinaClassOnRoot,n.noRetinaClassOnRoot,n.svgClassOnRoot,n.noSvgClassOnRoot].join(" ")).addClass(i);var o=$(s.settings.context?s.settings.context:t);s.pending=0;var a=o.find("*[data-"+n.dataSvgAttribute+"]:not(."+n.onceClass+")");s.pending+=a.length;var r=o.find("*[data-"+n.dataRetinaAttribute+"]:not(."+n.onceClass+")");return s.pending+=r.length,s.processed=0,a.addClass(n.onceClass+"-processed").each(function(){s.processSvgImage(this)}),r.addClass(n.onceClass+"-processed").each(function(){s.processRetinaImage(this)}),s.pending<1&&e(s),this.settings.onAfterProcessDom&&this.settings.onAfterProcessDom.call(this),s},s.prototype.processSvgImage=function(t){t=t instanceof jQuery?t:$(t);var s=t.data(this.settings.dataSvgAttribute),n;return s&&(this.svg&&(n=s.match(/(.+)(\..+$)/))&&(s=n[1]+".svg"),this.applySource(t,s)),e(this),this},s.prototype.processRetinaImage=function(t){t=t instanceof jQuery?t:$(t);var s=t.data(this.settings.dataRetinaAttribute),n;return s&&(this.retina&&(n=s.match(/(.+)(\..+$)/))&&(s=n[1]+this.settings.retinaSuffix+n[2]),this.applySource(t,s)),e(this),this},s.prototype.applySource=function(t,s){t=t instanceof jQuery?t.get(0):t;var e=t.nodeName.toLowerCase(),n=$(t);"img"===e?n.attr("src",s):n.css("backgroundImage","url("+s+")")},s.prototype.isRetina=function(){return window.devicePixelRatio>1||!(!window.matchMedia||!window.matchMedia(this.settings.mediaQuery).matches)},s.prototype.isSvg=function(){return"undefined"!=typeof Modernizr&&void 0!==Modernizr.svgasimg?Modernizr.svgasimg:t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},s}(jQuery,document);