/**
 * Loft Images JavaScript Module v1.3.24
 * http://www.intheloftstudios.com/packages/js/loft_images
 *
 * Front end Retina and SVG Handling for img tags or background images.
 *
 * Copyright 2015-2020, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Thu May 28 12:44:35 PDT 2020
 */
var LoftImages=function(a,r){function t(t){this.version="1.3.24","string"==typeof t&&(t={classBase:t}),this.settings={},a.extend(this.settings,this.options,t),this.settings.autoInit&&this.init(),this.settings.autoProcessDom&&this.processDom()}function c(t){t.pending--,t.processed++,t.pending<1&&(delete t.pending,a.event.trigger("loftImagesDomReady",t))}return t.prototype.options={dataSvgAttribute:"no-svg-src",dataRetinaAttribute:"no-retina-src",retinaSuffix:"@2x",retinaMediaQuery:"(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)",context:r,classRootSelector:"html",autoInit:!0,autoProcessDom:!0,onceClass:"loft-images",retinaClassOnRoot:"retina",noRetinaClassOnRoot:"no-retina",svgClassOnRoot:"svgasimg",noSvgClassOnRoot:"no-svgasimg",onInit:null,onBeforeProcessDom:null,onAfterProcessDom:null},t.prototype.init=function(){return this.svg=this.isSvg(),this.retina=this.isRetina(),this.settings.onInit&&this.settings.onInit.call(this),this},t.prototype.processDom=function(){this.settings.onBeforeProcessDom&&this.settings.onBeforeProcessDom.call(this);var t=this,s=t.settings,e=s.noRetinaClassOnRoot;t.retina&&(e=s.retinaClassOnRoot),t.svg?e+=" "+s.svgClassOnRoot:e+=" "+s.noSvgClassOnRoot,a(s.classRootSelector).removeClass([s.retinaClassOnRoot,s.noRetinaClassOnRoot,s.svgClassOnRoot,s.noSvgClassOnRoot].join(" ")).addClass(e);var n=t.settings.context?a(t.settings.context):a(r);t.pending=0;var i=n.find("*[data-"+s.dataSvgAttribute+"]:not(."+s.onceClass+")");t.pending+=i.length;var o=n.find("*[data-"+s.dataRetinaAttribute+"]:not(."+s.onceClass+")");return t.pending+=o.length,t.processed=0,i.addClass(s.onceClass+"-processed").each(function(){t.processSvgImage(this)}),o.addClass(s.onceClass+"-processed").each(function(){t.processRetinaImage(this)}),t.pending<1&&c(t),this.settings.onAfterProcessDom&&this.settings.onAfterProcessDom.call(this),t},t.prototype.processSvgImage=function(t){var s,e=(t=t instanceof jQuery?t:a(t)).data(this.settings.dataSvgAttribute);return e&&(this.svg&&(s=e.match(/(.+)(\..+$)/))&&(e=s[1]+".svg"),this.applySource(t,e)),c(this),this},t.prototype.processRetinaImage=function(t){var s,e=(t=t instanceof jQuery?t:a(t)).data(this.settings.dataRetinaAttribute);return e&&(this.retina&&(s=e.match(/(.+)(\..+$)/))&&(e=s[1]+this.settings.retinaSuffix+s[2]),this.applySource(t,e)),c(this),this},t.prototype.applySource=function(t,s){var e=(t=t instanceof jQuery?t.get(0):t).nodeName.toLowerCase(),n=a(t);"img"===e?n.attr("src",s):n.css("backgroundImage","url("+s+")")},t.prototype.isRetina=function(){return 1<window.devicePixelRatio||!(!window.matchMedia||!window.matchMedia(this.settings.retinaMediaQuery).matches)},t.prototype.isSvg=function(){return"undefined"!=typeof Modernizr&&void 0!==Modernizr.svgasimg?Modernizr.svgasimg:r.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},t}(jQuery,document);