/**
 * Loft Images JavaScript Module v0.0.1
 * http://www.intheloftstudios.com/packages/js/loft_images
 *
 * Retina and SVG Handling by In the Loft Studios
 *
 * Copyright 2015, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Thu Oct 15 16:18:46 PDT 2015
 */
var LoftImages=function($){function t(t){this.version="0.0.1","string"==typeof t&&(t={classBase:t}),this.settings={},$.extend(this.settings,this.options,t)}return t.prototype.options={context:void 0,dataRetinaAttribute:"image-src",dataSvgAttribute:"no-svg-src",onceClass:"images",retinaSuffix:"@2x"},t.prototype.init=function(){this.svg=this.isSvg(),this.retina=this.isRetina(),this.processSvg(),this.processRetina()},t.prototype.processSvg=function(){var t=this,i=t.getContext("*[data-"+t.settings.dataSvgAttribute+"]");console.log(i),i.once(this.settings.onceClass,function(){var i=$(this).data(t.settings.dataSvgAttribute);if(!i)throw"Cannot determine image path.";if(t.svg){var e=i.match(/(.+)(\..+$)/);i=e[1]+".svg"}t.applySource(this,i)})},t.prototype.processRetina=function(){var t=this,i="no-retina";t.retina&&(i="retina"),$("html").addClass(i);var e=t.getContext("*[data-"+t.settings.dataRetinaAttribute+"]");e.once(this.settings.onceClass,function(){var i=$(this).data(t.settings.dataRetinaAttribute);if(!i)throw"Cannot determine image path.";if(t.retina){var e=i.match(/(.+)(\..+$)/);i=e[1]+t.settings.retinaSuffix+e[2]}t.applySource(this,i)})},t.prototype.applySource=function(t,i){var e=t.nodeName.toLowerCase();"img"===e?$(t).attr("src",i):$(t).css("backgroundImage","url("+i+")")},t.prototype.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return window.devicePixelRatio>1?!0:window.matchMedia&&window.matchMedia(t).matches?!0:!1},t.prototype.isSvg=function(){return"undefined"==typeof Modernizr?!1:Modernizr.svg},t.prototype.getContext=function(t){return"undefined"===this.settings.context?$(t):$(this.settings.context).find(t)},t}(jQuery);